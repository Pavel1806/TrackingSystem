@model List<ProjectTaskViewModel>
@{
    ViewData["Title"] = "Home Page";
}

<div class="General">
    <div class="Users">
        Задачи
    </div>
    <div class="divMenu">
        <!-- <div class="imgButtonLeft">
        <a href="/register/index"><img src="Plus.png"></a>
    </div> -->
        <div class="imgButton">
            <button class="edit"><img src="/change.png"></button>
        </div>
        <div class="imgButton">
            <button class="delete"><img src="/del.png"></button>
        </div>

        <div class="imgButton" style="margin: 0 10px 0 10px; font-family: Arial; font-size: 12px;"><a href="/user/index">Пользователи</a></div>
        <div class="imgButton" style="margin: 0 10px 0 10px; font-family: Arial; font-size: 12px;"><a href="/project/index">Проекты</a></div>
        <button class="tasksProoject imgButton" style="margin: 0 10px 0 10px; font-size: 12px; font-family: Arial; text-decoration: underline;">Все задачи по проектам</button>
        <button class="tasksUser imgButton" style="margin: 0 10px 0 10px; font-size: 12px; font-family: Arial; text-decoration: underline;">Все задачи по исполнителям</button>


    </div>
    <div class="divTable">
        <table id="myTable">
            <tr class="header">
                <th hidden>
                    ID
                </th>

                <th>
                    Приоритет
                </th>
                <th>
                    Название проекта
                </th>
                <th>
                    Имя
                </th>
                <th>
                    Фамилия
                </th>
                <th>
                    Тема задачи
                </th>
                <th>
                    Тип задачи
                </th>
                <th hidden>
                    userId
                </th>
                <th hidden>
                    projectId
                </th>

            </tr>
            @foreach (var item in Model)
            {
        <tr position="Roman">
            <td hidden>
                @item.Id
            </td>

            <td>
                @item.Priority
            </td>
            <td>
                @item.Project.Name
            </td>
            <td>
                @item.User.Name
            </td>
            <td>
                @item.User.SerName
            </td>
            <td>
                @item.Topic
            </td>
            <td>
                @item.Type
            </td>
            <td hidden>
                @item.userId
            </td>
            <td hidden>
                @item.projectId
            </td>
        </tr>
            }

        </table>
    </div>
    <div class="divInput">
        <div>
            <p>Форма добавления задачи</p>
        </div>
        <form action="~/Home/AddingNewTask" method="post" id="form" style="display: flex; justify-content: space-between;">

            <div>
                <label>
                    Фамилия:
                </label>
                <select name="userId">
                    
                    @{
                        foreach(var item in Model[0].userViewModels)
                        {
                             <option value="@item.Id">
                                @item.SerName
                             </option>
                        }

                        }
                </select>
            </div>
            <div>
                <label>
                    Проект:
                </label>
                <select name="projectId">
                    
                    @{
                        foreach (var item in Model[0].projectViewModels)
                        {
                            <option value="@item.Id">
                                @item.Name
                            </option>
                        }

                    }
                </select>
            </div>
            <div>
                <label>
                    Приоритет:
                </label>
                <select name="priority" style="width: 120px">
                    <option value="в процессе">
                        в процессе
                    </option>
                    <option value="горит">
                        горит
                    </option>
                    <option value="выполнена">
                        выполнена
                    </option>
                </select>
            </div>
            <div>
                <label>
                    Тема задачи:
                    <input type="text" name="topic" value="" style="width: 120px; height:15.1px;">
                </label>
            </div>
             <div>
                  <label>
                    Тип задачи:
                    <input type="text" name="type" value="" style="width: 120px; height:15.1px; ">
                  </label>
            </div> 
            <div>
                <button class="formRequest" type="submit">Отправить</button>
            </div>
        </form>
    </div>
</div>

